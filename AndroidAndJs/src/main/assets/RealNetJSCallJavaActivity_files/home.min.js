!function(t){function e(a){if(i[a])return i[a].exports;var s=i[a]={exports:{},id:a,loaded:!1};return t[a].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){function a(){return Math.random()>.5?-1:1}function s(t,e){var i,a,n,o,r,l,d,c,u,g,p,h;if(t.length>1)return t.each(function(){s($(this),e)}),this;if(!bricksData.hasOwnProperty(t.attr("id")))return this;if(n={onLoad:$.noop},o=$.extend({},n,e),h=t.attr("id"),r=bricksData[h],i=t.find(".J_brickBd"),a=t.find(".J_brickNav"),l=r.left.length>1?S.promoTemplateMiddle:S.promoTemplateLarge,g='<div class="span4 span-first"><ul class="brick-promo-list clearfix">'+l(r.left)+"</ul></div>",p="",r.right.length>1){p='<div class="span16"><div id="'+(t.attr("id")+"-content")+'" class="tab-container">',u='<ul class="tab-list J_brickTabSwitch" data-tab-target="'+(t.attr("id")+"-content")+'">',("smart"===h||"homeelec"===h)&&$.each(r.right,function(t,e){$.each(e.items,function(t,e){e.sectionName="smart"})});for(var m=0,f=r.right.length;f>m;m+=1){var v=r.right[m].items;d=S.itemTemplateMiddle1,c=S.itemTemplateSmall,p+='<ul class="brick-list tab-content clearfix'+(0===m?" tab-content-active J_recommendActive":" tab-content-hide")+'">'+d(v.splice(0,v.length-1))+c(v)+'<li class="brick-item brick-item-s"><div class="figure figure-more"><a href="'+r.right[m].area_url+'" target="_blank"><i class="iconfont">&#xe615;</i></a></div><a class="more" href="'+r.right[m].area_url+'" target="_blank">浏览更多<small>'+r.right[m].area_title+"</small></a></li></ul>",u+="<li"+(0===m?' class="tab-active"':"")+">"+r.right[m].area_title+"</li>"}u+="</ul>",p+="</div></div>"}else d=S.itemTemplateMiddle2,u='<a class="more-link" href="'+r.right[0].area_url+'" target="_blank">查看全部<i class="iconfont">&#xe623;</i></a>',p='<div class="span16"><ul class="brick-list clearfix">'+d(r.right[0].items)+"</ul></div>";a.html(u),i.html('<div class="row">'+g+p+"</div>"),o.onLoad(t)}function n(t,e,i){var a=t.find("a"),s=function(t){try{return t.replace(/\s/g,"")}catch(e){return t}};$.each(a,function(t,a){var n=$(a).attr("data-stat-index"),o=s($(a).attr("data-stat-text")),r=$(a).attr("data-stat-method"),l="stat_"+e+"."+i+"_"+n+"_"+r;$(a).attr({"data-stat-pid":l,"data-stat-aid":o})})}function o(t,e){var i=e.r[0],a=t.attr("id"),s={a:i.slice(0,7),b:i[7],c:w[a].morelink,i:x,g:MI.GLOBAL_CONFIG,v:e.v},o=S.itemTemplateRecommend,r=t.find(".J_recommendActive");r.html(o(s));var l=t.find("h2.title").text()||t.attr("data-stat-title");n(r,"首页",l+"热门"),$.isFunction($("body").linkSign)&&r.linkSign({live:!0}),t.find(".brick-item").on({mouseenter:function(){$(this).addClass("brick-item-active")},mouseleave:function(){$(this).removeClass("brick-item-active")}})}function r(t){var e=t.attr("id"),i=$.cookie("userId")?$.cookie("userId"):"",a=$.cookie("mstuid"),s="recommend_home_"+e,n="?u="+a+"&i="+i+"&a=2",r=w[e].api+n;$.ajax({dataType:"JSONP",url:r,jsonpCallback:s,cache:!0,success:function(e){null!==o&&"function"==typeof o&&o(t,e)}})}function l(t,e){var i,s,n,o,r,d,c;return t.length>1?(t.each(function(){l($(this),e)}),this):bricksData.hasOwnProperty(t.attr("id"))?(s={onLoad:$.noop},n=$.extend({},s,e),o=bricksData[t.attr("id")],i=t.find(".J_brickBd"),r=S.itemTemplateReview,c=o.sort(a).splice(0,4),d='<ul class="review-list clearfix">'+r(c)+"</ul>",i.html(d),void n.onLoad(t)):this}function d(t,e){function i(t){var e={book:{title:"图书",style:"orange",image:MI.GLOBAL_CONFIG.assetsSite+"/i/index/more-duokan.jpg",url:"http://www.duokan.com/list/1-1?from=xiaomi",desc:"海量好书，享受精品阅读时光<br />漂亮的中文排版，千万读者选择！",text:"多看阅读"},theme:{title:"MIUI 主题",style:"green",image:MI.GLOBAL_CONFIG.assetsSite+"/i/index/more-miui.jpg",url:"http://zhuti.xiaomi.com/?from=mi",desc:"众多个性主题、百变锁屏与自由桌面<br />让你的手机与众不同！",text:"MIUI主题市场"},game:{title:"游戏",style:"red",image:MI.GLOBAL_CONFIG.assetsSite+"/i/index/more-game.jpg",url:"http://game.xiaomi.com/index.php?c=index&a=run",desc:"免费下载海量的手机游戏<br />天天都有现金福利赠送",text:"小米游戏商店"},app:{title:"应用",style:"ocean",image:MI.GLOBAL_CONFIG.assetsSite+"/i/index/more-app.jpg",url:"http://app.mi.com/?from=mi",desc:"帮助小米手机和其他安卓手机用户<br />发现好用的安卓应用",text:"小米应用商店"}},i=S.itemTemplateContent,a=S.itemTemplateContentMore;return'<li class="content-item content-item-'+t+("book"===t?" content-item-first":"")+'"><h2 class="title">'+e[t].title+'</h2><ul class="item-list clearfix">'+i(o[t])+a(e[t])+"</ul></li>"}var a,s,n,o,r;return t.length>1?(t.each(function(){d($(this),e)}),this):bricksData.hasOwnProperty(t.attr("id"))?(s={onLoad:$.noop},n=$.extend({},s,e),o=bricksData[t.attr("id")],a=t.find(".J_brickBd"),r='<ul class="content-list clearfix">'+i("book")+i("theme")+i("game")+i("app")+"</ul>",a.html(r),void n.onLoad(t)):this}function c(t,e){var i,a,s,n,o,r,l,d;return t.length>1?(t.each(function(){c($(this),e)}),this):bricksData.hasOwnProperty(t.attr("id"))?(s={onLoad:$.noop},n=$.extend({},s,e),o=bricksData[t.attr("id")],i=t.find(".J_brickBd"),a=t.find(".J_brickNav"),r=S.itemTemplateVideo,l='<a class="more-link" href="'+MI.GLOBAL_CONFIG.wwwSite+'/video/" target="_blank">查看全部<i class="iconfont">&#xe623;</i></a>',d='<ul class="video-list clearfix">'+r(o)+"</ul></div>",a.html(l),i.html(d),void n.onLoad(t)):this}function u(t,e){for(var i in e)if(e.hasOwnProperty(i)){if("smart"===t.attr("id")||"homeelec"===t.attr("id"))return;var a=t.find('[data-gid="'+i+'"]').find(".rank");a.length&&e[i]&&a.text(e[i]+"人评价")}}function g(){("undefined"==typeof isCommentOpen||isCommentOpen)&&$.ajax({url:MI.GLOBAL_CONFIG.assetsSite+"/c/js/indexMD2015.js",cache:!0,dataType:"script",timeout:5e3,error:function(){return!1},success:function(){"undefined"!=typeof commentTotal&&(b=commentTotal,u(m,b))}})}function p(t){var e=t.attr("id"),i=t.find("h2.title").text()||t.attr("data-stat-title");"true"===t.attr("data-from-stat")&&(i="首页."+i+"热门");var a=t.attr("data-region-stat")?"re-":"ad-",s=a+i;$.force_appear(),t.appear(),t.one("appear",function(){"undefined"!=typeof _msq&&_msq.push(["trackPanelShow",e,s])})}function h(){function t(t){var i=$(e(t));i.appendTo(".header-logo").fadeIn(2e3),$.isFunction($("body").linkSign)&&i.linkSign({live:!0}),_msq.push(["trackPanelShow","J_logoDoodle","ad-logoDoodle"])}var e=i(22);$.ajax({url:"//i.huodong.mi.com/airrecommend/default/getIPAD?ad_id=256",dataType:"jsonp",jsonp:"jsonpcallback",success:function(e){1===parseInt(e.code)&&t(e.data)}})}i(2),i(3),i(4),i(5),i(6),i(7),i(10);var m=$(".J_itemBox"),f=$("#J_homeSlider, #J_homePromo, #J_homeStar, .J_itemBox"),v=$("#J_modalVideo"),_=i(11),b=null,x="//i2.mifile.cn/a1/",S={promoTemplateLarge:i(12),promoTemplateMiddle:i(13),itemTemplateMiddle1:i(14),itemTemplateMiddle2:i(15),itemTemplateRecommend:i(16),itemTemplateSmall:i(17),itemTemplateReview:i(18),itemTemplateContent:i(19),itemTemplateContentMore:i(20),itemTemplateVideo:i(21)},w={match:{api:"//rec.www.mi.com/collection/get",morelink:"//list.mi.com/dapei"},accessories:{api:"//rec.www.mi.com/accessory/get",morelink:"//list.mi.com/pjrm"},around:{api:"//rec.www.mi.com/periphery/get",morelink:"//list.mi.com/zhoubian"}};jQuery(function(t){function e(e,i){var a,s=t(e),n=s.find(".slide").eq(i);n.hasClass("loaded")||(a=t.parseJSON(n.data("bg-set").replace(/'/g,'"')),n.addClass("loaded").find("> a").append('<img src="'+a.img+'"'+(a.imgHd?' srcset="'+a.imgHd+' 2x"':"")+" />"))}var i=t("#J_homeSlider"),a=t("#J_categoryList");0!==t("#comment").length&&g(),_(a),i.slider({mode:"fade",auto:!0,autoHover:!0,onSliderLoad:function(t){e(i,t)},onSlideBefore:function(t,a,s){e(i,s)}}),t(".J_carouselList").carousel({containerSelector:".home-star-goods",controlsSelector:".box-hd .more",controlsClass:"xm-controls-line-small",itemPerSlide:5,auto:!0,pause:8e3}),t(".J_brickBox").on("visible.visibleWatcher",function(){t(this).data("visible")||(s(t(this),{onLoad:function(e){"true"===e.attr("data-from-stat")&&r(e),e.addClass("loaded").find(".J_brickTabSwitch").tabSwitch({events:"mouseenter"}),e.find(".brick-item").on({mouseenter:function(){t(this).addClass("brick-item-active")},mouseleave:function(){t(this).removeClass("brick-item-active")}}),b&&u(e,b),t.isFunction(t("body").linkSign)&&e.linkSign({live:!0})}}),t(this).data("visible",!0))}),t(".J_recommendBox").on("visible.visibleWatcher",function(){var e=t(this);e.data("visible")||(e.find(".J_brickBd").miRecommend({type:2,page:"Home",carouselControl:!0,carouselPage:!1,callback:function(){e.find(".xm-controls").appendTo(e.find(".J_brickNav"))}}),e.data("visible",!0))}),t(".J_reviewBox").on("visible.visibleWatcher",function(){t(this).data("visible")||(l(t(this),{onLoad:function(e){b&&u(e,b),t.isFunction(t("body").linkSign)&&e.linkSign({live:!0})}}),t(this).data("visible",!0))}),t(".J_contentBox").on("visible.visibleWatcher",function(){t(this).data("visible")||(d(t(this),{onLoad:function(e){e.find(".item-list").carousel({controlsClass:"xm-controls-block-small",pager:!0}),t.isFunction(t("body").linkSign)&&e.linkSign({live:!0})}}),t(this).data("visible",!0))}),t(".J_videoBox").on("visible.visibleWatcher",function(){t(this).data("visible")||(c(t(this),{onLoad:function(e){e.find(".J_videoTrigger").on("click",function(e){e.preventDefault(),document.domain="mi.com",v.find(".modal-hd .title").text(t(this).attr("data-video-title")).end().find(".modal-bd").html('<iframe id="miPlayerIframe" width="880" height="536" src="//hd.mi.com/f/zt/hd/miplayer2/index.html?vurl='+t(this).attr("data-video")+"&poster="+t(this).attr("data-video-poster")+'" frameborder="0" allowfullscreen></iframe>').find("iframe").focus(),v.modal({show:!0,backdrop:"static"})}),v.on("hide",function(){v.find(".modal-hd .title").empty(),v.find(".modal-bd").empty()}),t.isFunction(t("body").linkSign)&&e.linkSign({live:!0})}}),t(this).data("visible",!0))}),m.visibleWatcher({offset:-300}),f.each(function(e,i){p(t(i))}),doodleData&&0!==doodleData.type&&(1===doodleData.type?h():2===doodleData.type&&doodleData.link&&doodleData.logo&&t('<div class="doodle"><a class="link-block" style="background-image:url('+doodleData.logo+')" href="'+doodleData.link+"\" data-stat-id=\"首页logo广告位\" onclick=\"_msq.push(['trackEvent', '首页logo广告位', '"+doodleData.link+"', 'pcpid']);\" target=\"_blank\" >"+doodleData.linkText+"</a></div>").appendTo(".header-logo").delay(1e3).fadeIn()),topbarData&&0!==topbarData.type&&t(".site-topbar").before('<div class="site-bn-bar" style="background-image:url('+topbarData.img+');"><a class="site-bn-bar-link" href="'+topbarData.link+"\" data-stat-id=\"首页顶通广告位\" onclick=\"_msq.push(['trackEvent', '首页顶通广告位', '"+topbarData.link+"', 'pcpid']);\" target=\"_blank\" >"+topbarData.linkText+"</a></div>")})},function(t,e){!function(t){function e(e){function i(t){p.push({x:t.pageX,y:t.pageY}),p.length>f&&p.shift()}function a(){m&&clearTimeout(m),c.exitMenu(this)&&(g&&c.deactivate(g),g=null)}function s(){m&&clearTimeout(m),c.enter(this),r(this)}function n(){c.exit(this)}function o(t){t!==g&&(g&&c.deactivate(g),c.activate(t),g=t)}function r(t){var e=l();e?m=setTimeout(function(){r(t)},e):o(t)}function l(){function e(t,e){return(e.y-t.y)/(e.x-t.x)}if(!g||!t(g).is(c.submenuSelector))return 0;var i=u.offset(),a={x:i.left,y:i.top-c.tolerance},s={x:i.left+u.outerWidth(),y:a.y},n={x:i.left,y:i.top+u.outerHeight()+c.tolerance},o={x:i.left+u.outerWidth(),y:n.y},r=p[p.length-1],l=p[0];if(!r)return 0;if(l||(l=r),l.x<i.left||l.x>o.x||l.y<i.top||l.y>o.y)return 0;if(h&&r.x===h.x&&r.y===h.y)return 0;var d=s,m=o;"left"===c.submenuDirection?(d=n,m=a):"below"===c.submenuDirection?(d=o,m=n):"above"===c.submenuDirection&&(d=a,m=s);var f=e(r,d),_=e(r,m),b=e(l,d),x=e(l,m);return b>f&&_>x?(h=r,v):(h=null,0)}var d,c,u=t(this),g=null,p=[],h=null,m=null,f=3,v=300;d={rowSelector:"> li",submenuSelector:"*",submenuDirection:"right",tolerance:75,enter:t.noop,exit:t.noop,activate:t.noop,deactivate:t.noop,exitMenu:t.noop},c=t.extend({},d,e),u.on("mouseleave",a).find(c.rowSelector).on({mouseenter:s,mouseleave:n,click:function(){o(this)}}),t(document).mousemove(i)}t.fn.miMenuAim=function(t){return this.each(function(){e.call(this,t)}),this}}(jQuery)},function(t,e){!function(t){var e={},a={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"ui-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"下一张",prevText:"上一张",nextSelector:null,prevSelector:null,autoControls:!1,startText:"开始",stopText:"停止",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:t.noop,onSlideBefore:t.noop,onSlideAfter:t.noop,onSlideNext:t.noop,onSlidePrev:t.noop,onSliderResize:t.noop};t.fn.slider=function(s){if(0==this.length)return this;if(this.length>1)return this.each(function(){t(this).slider(s)}),this;var n={},o=this;e.el=this;var r=t(window).width(),l=t(window).height(),d=function(){n.settings=t.extend({},a,s),n.settings.slideWidth=parseInt(n.settings.slideWidth),n.children=o.children(n.settings.slideSelector),n.children.length<n.settings.minSlides&&(n.settings.minSlides=n.children.length),n.children.length<n.settings.maxSlides&&(n.settings.maxSlides=n.children.length),n.settings.randomStart&&(n.settings.startSlide=Math.floor(Math.random()*n.children.length)),n.active={index:n.settings.startSlide},n.carousel=n.settings.minSlides>1||n.settings.maxSlides>1,n.carousel&&(n.settings.preloadImages="all"),n.minThreshold=n.settings.minSlides*n.settings.slideWidth+(n.settings.minSlides-1)*n.settings.slideMargin,n.maxThreshold=n.settings.maxSlides*n.settings.slideWidth+(n.settings.maxSlides-1)*n.settings.slideMargin,n.working=!1,n.controls={},n.interval=null,n.animProp="vertical"==n.settings.mode?"top":"left",n.usingCSS=n.settings.useCSS&&"fade"!=n.settings.mode&&function(){var t=document.createElement("div"),e=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in e)if(void 0!==t.style[e[i]])return n.cssPrefix=e[i].replace("Perspective","").toLowerCase(),n.animProp="-"+n.cssPrefix+"-transform",!0;return!1}(),"vertical"==n.settings.mode&&(n.settings.maxSlides=n.settings.minSlides),o.data("origStyle",o.attr("style")),o.children(n.settings.slideSelector).each(function(){t(this).data("origStyle",t(this).attr("style"))}),c()},c=function(){o.wrap('<div class="'+n.settings.wrapperClass+'"><div class="ui-viewport"></div></div>'),n.viewport=o.parent(),n.loader=t('<div class="ui-loading" />'),n.viewport.prepend(n.loader),o.css({width:"horizontal"==n.settings.mode?100*n.children.length+215+"%":"auto",position:"relative"}),n.usingCSS&&n.settings.easing?o.css("-"+n.cssPrefix+"-transition-timing-function",n.settings.easing):n.settings.easing||(n.settings.easing="swing");f();n.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),n.viewport.parent().css({maxWidth:h()}),n.settings.pager||n.viewport.parent().css({margin:"0 auto 0px"}),n.children.css({"float":"horizontal"==n.settings.mode?"left":"none",listStyle:"none",position:"relative"}),n.children.css("width",m()),"horizontal"==n.settings.mode&&n.settings.slideMargin>0&&n.children.css("marginRight",n.settings.slideMargin),"vertical"==n.settings.mode&&n.settings.slideMargin>0&&n.children.css("marginBottom",n.settings.slideMargin),"fade"==n.settings.mode&&(n.children.css({position:"absolute",zIndex:0,display:"none"}),n.children.eq(n.settings.startSlide).css({zIndex:n.settings.slideZIndex,display:"block"})),n.controls.el=t('<div class="ui-controls" />'),n.settings.captions&&C(),n.active.last=n.settings.startSlide==v()-1,n.settings.video&&o.fitVids();var e=n.children.eq(n.settings.startSlide);"all"==n.settings.preloadImages&&(e=n.children),n.settings.ticker?n.settings.pager=!1:(n.settings.pager&&w(),n.settings.controls&&k(),n.settings.auto&&n.settings.autoControls&&y(),(n.settings.controls||n.settings.autoControls||n.settings.pager)&&n.viewport.after(n.controls.el)),u(e,g)},u=function(e,i){var a=e.find("img, iframe").length;if(0==a)return void i();var s=0;e.find("img, iframe").each(function(){t(this).one("load",function(){++s==a&&i()}).each(function(){this.complete&&t(this).load()})})},g=function(){if(n.settings.infiniteLoop&&"fade"!=n.settings.mode&&!n.settings.ticker){var e="vertical"==n.settings.mode?n.settings.minSlides:n.settings.maxSlides,i=n.children.slice(0,e).clone().addClass("ui-clone"),a=n.children.slice(-e).clone().addClass("ui-clone");o.append(i).prepend(a)}n.loader.remove(),b(),"vertical"==n.settings.mode&&(n.settings.adaptiveHeight=!0),n.viewport.height(p()),o.redrawSlider(),n.settings.onSliderLoad(n.active.index),n.initialized=!0,n.settings.responsive&&t(window).bind("resize",B),n.settings.auto&&n.settings.autoStart&&(v()>1||n.settings.autoSlideForOnePage)&&q(),n.settings.ticker&&z(),n.settings.pager&&L(n.settings.startSlide),n.settings.controls&&$(),n.settings.touchEnabled&&!n.settings.ticker&&J()},p=function(){var e=0,a=t();if("vertical"==n.settings.mode||n.settings.adaptiveHeight)if(n.carousel){var s=1==n.settings.moveSlides?n.active.index:n.active.index*_();for(a=n.children.eq(s),i=1;i<=n.settings.maxSlides-1;i++)a=a.add(s+i>=n.children.length?n.children.eq(i-1):n.children.eq(s+i))}else a=n.children.eq(n.active.index);else a=n.children;return"vertical"==n.settings.mode?(a.each(function(i){e+=t(this).outerHeight()}),n.settings.slideMargin>0&&(e+=n.settings.slideMargin*(n.settings.minSlides-1))):e=Math.max.apply(Math,a.map(function(){return t(this).outerHeight(!1)}).get()),"border-box"==n.viewport.css("box-sizing")?e+=parseFloat(n.viewport.css("padding-top"))+parseFloat(n.viewport.css("padding-bottom"))+parseFloat(n.viewport.css("border-top-width"))+parseFloat(n.viewport.css("border-bottom-width")):"padding-box"==n.viewport.css("box-sizing")&&(e+=parseFloat(n.viewport.css("padding-top"))+parseFloat(n.viewport.css("padding-bottom"))),e},h=function(){var t="100%";return n.settings.slideWidth>0&&(t="horizontal"==n.settings.mode?n.settings.maxSlides*n.settings.slideWidth+(n.settings.maxSlides-1)*n.settings.slideMargin:n.settings.slideWidth),t},m=function(){var t=n.settings.slideWidth,e=n.viewport.width();return 0==n.settings.slideWidth||n.settings.slideWidth>e&&!n.carousel||"vertical"==n.settings.mode?t=e:n.settings.maxSlides>1&&"horizontal"==n.settings.mode&&(e>n.maxThreshold||e<n.minThreshold&&(t=(e-n.settings.slideMargin*(n.settings.minSlides-1))/n.settings.minSlides)),t},f=function(){var t=1;if("horizontal"==n.settings.mode&&n.settings.slideWidth>0)if(n.viewport.width()<n.minThreshold)t=n.settings.minSlides;else if(n.viewport.width()>n.maxThreshold)t=n.settings.maxSlides;else{var e=n.children.first().width()+n.settings.slideMargin;t=Math.floor((n.viewport.width()+n.settings.slideMargin)/e)}else"vertical"==n.settings.mode&&(t=n.settings.minSlides);return t},v=function(){var t=0;if(n.settings.moveSlides>0)if(n.settings.infiniteLoop)t=Math.ceil(n.children.length/_());else for(var e=0,i=0;e<n.children.length;)++t,e=i+f(),i+=n.settings.moveSlides<=f()?n.settings.moveSlides:f();else t=Math.ceil(n.children.length/f());return t},_=function(){return n.settings.moveSlides>0&&n.settings.moveSlides<=f()?n.settings.moveSlides:f()},b=function(){if(n.children.length>n.settings.maxSlides&&n.active.last&&!n.settings.infiniteLoop){if("horizontal"==n.settings.mode){var t=n.children.last(),e=t.position();x(-(e.left-(n.viewport.width()-t.outerWidth())),"reset",0)}else if("vertical"==n.settings.mode){var i=n.children.length-n.settings.minSlides,e=n.children.eq(i).position();x(-e.top,"reset",0)}}else{var e=n.children.eq(n.active.index*_()).position();n.active.index==v()-1&&(n.active.last=!0),void 0!=e&&("horizontal"==n.settings.mode?x(-e.left,"reset",0):"vertical"==n.settings.mode&&x(-e.top,"reset",0))}},x=function(t,e,i,a){if(n.usingCSS){var s="vertical"==n.settings.mode?"translate3d(0, "+t+"px, 0)":"translate3d("+t+"px, 0, 0)";o.css("-"+n.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"==e?(o.css(n.animProp,s),o.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){o.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),P()})):"reset"==e?o.css(n.animProp,s):"ticker"==e&&(o.css("-"+n.cssPrefix+"-transition-timing-function","linear"),o.css(n.animProp,s),o.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){o.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),x(a.resetValue,"reset",0),N()}))}else{var r={};r[n.animProp]=t,"slide"==e?o.animate(r,i,n.settings.easing,function(){P()}):"reset"==e?o.css(n.animProp,t):"ticker"==e&&o.animate(r,speed,"linear",function(){x(a.resetValue,"reset",0),N()})}},S=function(){var e="",i=v();if(!(v()<=1)){for(var a=0;i>a;a++){var s="";n.settings.buildPager&&t.isFunction(n.settings.buildPager)?(s=n.settings.buildPager(a),n.pagerEl.addClass("ui-custom-pager")):(s=a+1,n.pagerEl.addClass("ui-default-pager")),e+='<div class="ui-pager-item"><a href="" data-slide-index="'+a+'" class="ui-pager-link">'+s+"</a></div>"}n.pagerEl.html(e)}},w=function(){n.settings.pagerCustom?n.pagerEl=t(n.settings.pagerCustom):(n.pagerEl=t('<div class="ui-pager" />'),n.settings.pagerSelector?t(n.settings.pagerSelector).html(n.pagerEl):n.controls.el.addClass("ui-has-pager").append(n.pagerEl),S()),n.pagerEl.on("click","a",D)},k=function(){n.controls.next=t('<a class="ui-next" href="">'+n.settings.nextText+"</a>"),n.controls.prev=t('<a class="ui-prev" href="">'+n.settings.prevText+"</a>"),n.controls.next.bind("click",T),n.controls.prev.bind("click",A),n.settings.nextSelector&&t(n.settings.nextSelector).append(n.controls.next),n.settings.prevSelector&&t(n.settings.prevSelector).append(n.controls.prev),n.settings.nextSelector||n.settings.prevSelector||(n.controls.directionEl=t('<div class="ui-controls-direction" />'),n.controls.directionEl.append(n.controls.prev).append(n.controls.next),n.controls.el.addClass("ui-has-controls-direction").append(n.controls.directionEl))},y=function(){n.controls.start=t('<div class="ui-controls-auto-item"><a class="ui-start" href="">'+n.settings.startText+"</a></div>"),n.controls.stop=t('<div class="ui-controls-auto-item"><a class="ui-stop" href="">'+n.settings.stopText+"</a></div>"),n.controls.autoEl=t('<div class="ui-controls-auto" />'),n.controls.autoEl.on("click",".ui-start",M),n.controls.autoEl.on("click",".ui-stop",I),n.settings.autoControlsCombine?n.controls.autoEl.append(n.controls.start):n.controls.autoEl.append(n.controls.start).append(n.controls.stop),n.settings.autoControlsSelector?t(n.settings.autoControlsSelector).html(n.controls.autoEl):n.controls.el.addClass("ui-has-controls-auto").append(n.controls.autoEl),E(n.settings.autoStart?"stop":"start")},C=function(){n.children.each(function(e){var i=t(this).find("img:first").attr("title");void 0!=i&&(""+i).length&&t(this).append('<div class="ui-caption"><span>'+i+"</span></div>")})},T=function(t){n.settings.auto&&o.stopAuto(),o.goToNextSlide(),t.preventDefault()},A=function(t){n.settings.auto&&o.stopAuto(),o.goToPrevSlide(),t.preventDefault()},M=function(t){o.startAuto(),t.preventDefault()},I=function(t){o.stopAuto(),t.preventDefault()},D=function(e){n.settings.auto&&o.stopAuto();var i=t(e.currentTarget);if(void 0!==i.attr("data-slide-index")){var a=parseInt(i.attr("data-slide-index"));a!=n.active.index&&o.goToSlide(a),e.preventDefault()}},L=function(e){var i=n.children.length;return"short"==n.settings.pagerType?(n.settings.maxSlides>1&&(i=Math.ceil(n.children.length/n.settings.maxSlides)),void n.pagerEl.html(e+1+n.settings.pagerShortSeparator+i)):(n.pagerEl.find("a").removeClass("active"),void n.pagerEl.each(function(i,a){t(a).find("a").eq(e).addClass("active")}))},P=function(){if(n.settings.infiniteLoop){var t="";0==n.active.index?t=n.children.eq(0).position():n.active.index==v()-1&&n.carousel?t=n.children.eq((v()-1)*_()).position():n.active.index==n.children.length-1&&(t=n.children.eq(n.children.length-1).position()),t&&("horizontal"==n.settings.mode?x(-t.left,"reset",0):"vertical"==n.settings.mode&&x(-t.top,"reset",0))}n.working=!1,n.settings.onSlideAfter(n.children.eq(n.active.index),n.oldIndex,n.active.index)},E=function(t){n.settings.autoControlsCombine?n.controls.autoEl.html(n.controls[t]):(n.controls.autoEl.find("a").removeClass("active"),n.controls.autoEl.find("a:not(.ui-"+t+")").addClass("active"))},$=function(){1==v()?(n.controls.prev.addClass("disabled"),n.controls.next.addClass("disabled")):!n.settings.infiniteLoop&&n.settings.hideControlOnEnd&&(0==n.active.index?(n.controls.prev.addClass("disabled"),n.controls.next.removeClass("disabled")):n.active.index==v()-1?(n.controls.next.addClass("disabled"),n.controls.prev.removeClass("disabled")):(n.controls.prev.removeClass("disabled"),n.controls.next.removeClass("disabled")))},q=function(){if(n.settings.autoDelay>0){setTimeout(o.startAuto,n.settings.autoDelay)}else o.startAuto();n.settings.autoHover&&o.hover(function(){n.interval&&(o.stopAuto(!0),n.autoPaused=!0)},function(){n.autoPaused&&(o.startAuto(!0),n.autoPaused=null)})},z=function(){var e=0;if("next"==n.settings.autoDirection)o.append(n.children.clone().addClass("ui-clone"));else{o.prepend(n.children.clone().addClass("ui-clone"));var i=n.children.first().position();e="horizontal"==n.settings.mode?-i.left:-i.top}x(e,"reset",0),n.settings.pager=!1,n.settings.controls=!1,n.settings.autoControls=!1,n.settings.tickerHover&&!n.usingCSS&&n.viewport.hover(function(){o.stop()},function(){var e=0;n.children.each(function(i){e+="horizontal"==n.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)});var i=n.settings.speed/e,a="horizontal"==n.settings.mode?"left":"top",s=i*(e-Math.abs(parseInt(o.css(a))));N(s)}),N()},N=function(t){speed=t?t:n.settings.speed;var e={left:0,top:0},i={left:0,top:0};"next"==n.settings.autoDirection?e=o.find(".ui-clone").first().position():i=n.children.first().position();var a="horizontal"==n.settings.mode?-e.left:-e.top,s="horizontal"==n.settings.mode?-i.left:-i.top,r={resetValue:s};x(a,"ticker",speed,r)},J=function(){n.touch={start:{x:0,y:0},end:{x:0,y:0}},n.viewport.bind("touchstart",H)},H=function(t){if(n.working)t.preventDefault();else{n.touch.originalPos=o.position();var e=t.originalEvent;n.touch.start.x=e.changedTouches[0].pageX,n.touch.start.y=e.changedTouches[0].pageY,n.viewport.bind("touchmove",O),n.viewport.bind("touchend",W)}},O=function(t){var e=t.originalEvent,i=Math.abs(e.changedTouches[0].pageX-n.touch.start.x),a=Math.abs(e.changedTouches[0].pageY-n.touch.start.y);if(3*i>a&&n.settings.preventDefaultSwipeX?t.preventDefault():3*a>i&&n.settings.preventDefaultSwipeY&&t.preventDefault(),"fade"!=n.settings.mode&&n.settings.oneToOneTouch){var s=0;if("horizontal"==n.settings.mode){var o=e.changedTouches[0].pageX-n.touch.start.x;s=n.touch.originalPos.left+o}else{var o=e.changedTouches[0].pageY-n.touch.start.y;s=n.touch.originalPos.top+o}x(s,"reset",0)}},W=function(t){n.viewport.unbind("touchmove",O);var e=t.originalEvent,i=0;if(n.touch.end.x=e.changedTouches[0].pageX,n.touch.end.y=e.changedTouches[0].pageY,"fade"==n.settings.mode){var a=Math.abs(n.touch.start.x-n.touch.end.x);a>=n.settings.swipeThreshold&&(n.touch.start.x>n.touch.end.x?o.goToNextSlide():o.goToPrevSlide(),o.stopAuto())}else{var a=0;"horizontal"==n.settings.mode?(a=n.touch.end.x-n.touch.start.x,i=n.touch.originalPos.left):(a=n.touch.end.y-n.touch.start.y,i=n.touch.originalPos.top),!n.settings.infiniteLoop&&(0==n.active.index&&a>0||n.active.last&&0>a)?x(i,"reset",200):Math.abs(a)>=n.settings.swipeThreshold?(0>a?o.goToNextSlide():o.goToPrevSlide(),o.stopAuto()):x(i,"reset",200)}n.viewport.unbind("touchend",W)},B=function(e){if(n.initialized){var i=t(window).width(),a=t(window).height();(r!=i||l!=a)&&(r=i,l=a,o.redrawSlider(),n.settings.onSliderResize.call(o,n.active.index))}};return o.goToSlide=function(e,i){if(!n.working&&n.active.index!=e)if(n.working=!0,n.oldIndex=n.active.index,n.active.index=0>e?v()-1:e>=v()?0:e,n.settings.onSlideBefore(n.children.eq(n.active.index),n.oldIndex,n.active.index),"next"==i?n.settings.onSlideNext(n.children.eq(n.active.index),n.oldIndex,n.active.index):"prev"==i&&n.settings.onSlidePrev(n.children.eq(n.active.index),n.oldIndex,n.active.index),n.active.last=n.active.index>=v()-1,n.settings.pager&&L(n.active.index),n.settings.controls&&$(),"fade"==n.settings.mode)n.settings.adaptiveHeight&&n.viewport.height()!=p()&&n.viewport.animate({height:p()},n.settings.adaptiveHeightSpeed),n.children.filter(":visible").fadeOut(n.settings.speed).css({zIndex:0}),n.children.eq(n.active.index).css("zIndex",n.settings.slideZIndex+1).fadeIn(n.settings.speed,function(){t(this).css("zIndex",n.settings.slideZIndex),P()});else{n.settings.adaptiveHeight&&n.viewport.height()!=p()&&n.viewport.animate({height:p()},n.settings.adaptiveHeightSpeed);var a=0,s={left:0,top:0};if(!n.settings.infiniteLoop&&n.carousel&&n.active.last)if("horizontal"==n.settings.mode){var r=n.children.eq(n.children.length-1);s=r.position(),a=n.viewport.width()-r.outerWidth()}else{var l=n.children.length-n.settings.minSlides;s=n.children.eq(l).position()}else if(n.carousel&&n.active.last&&"prev"==i){var d=1==n.settings.moveSlides?n.settings.maxSlides-_():(v()-1)*_()-(n.children.length-n.settings.maxSlides),r=o.children(".ui-clone").eq(d);s=r.position()}else if("next"==i&&0==n.active.index)s=o.find("> .ui-clone").eq(n.settings.maxSlides).position(),n.active.last=!1;else if(e>=0){var c=e*_();s=n.children.eq(c).position()}if("undefined"!=typeof s){var u="horizontal"==n.settings.mode?-(s.left-a):-s.top;x(u,"slide",n.settings.speed)}}},o.goToNextSlide=function(){if(n.settings.infiniteLoop||!n.active.last){var t=parseInt(n.active.index)+1;o.goToSlide(t,"next")}},o.goToPrevSlide=function(){if(n.settings.infiniteLoop||0!=n.active.index){var t=parseInt(n.active.index)-1;o.goToSlide(t,"prev")}},o.startAuto=function(t){n.interval||(n.interval=setInterval(function(){"next"==n.settings.autoDirection?o.goToNextSlide():o.goToPrevSlide()},n.settings.pause),n.settings.autoControls&&1!=t&&E("stop"))},o.stopAuto=function(t){n.interval&&(clearInterval(n.interval),n.interval=null,n.settings.autoControls&&1!=t&&E("start"))},o.getCurrentSlide=function(){return n.active.index},o.getCurrentSlideElement=function(){return n.children.eq(n.active.index)},o.getSlideCount=function(){return n.children.length},o.redrawSlider=function(){n.children.add(o.find(".ui-clone")).width(m()),n.viewport.css("height",p()),n.settings.ticker||b(),n.active.last&&(n.active.index=v()-1),n.active.index>=v()&&(n.active.last=!0),n.settings.pager&&!n.settings.pagerCustom&&(S(),L(n.active.index))},o.destroySlider=function(){n.initialized&&(n.initialized=!1,t(".ui-clone",this).remove(),n.children.each(function(){void 0!=t(this).data("origStyle")?t(this).attr("style",t(this).data("origStyle")):t(this).removeAttr("style")}),void 0!=t(this).data("origStyle")?this.attr("style",t(this).data("origStyle")):t(this).removeAttr("style"),t(this).unwrap().unwrap(),n.controls.el&&n.controls.el.remove(),n.controls.next&&n.controls.next.remove(),n.controls.prev&&n.controls.prev.remove(),n.pagerEl&&n.settings.controls&&n.pagerEl.remove(),t(".ui-caption",this).remove(),n.controls.autoEl&&n.controls.autoEl.remove(),clearInterval(n.interval),n.settings.responsive&&t(window).unbind("resize",B))},o.reloadSlider=function(t){void 0!=t&&(s=t),o.destroySlider(),d()},d(),this}}(jQuery)},function(t,e){!function(t){function e(i,a){function s(e){o=e.find(c.tabSelector),o.on(c.events,function(i){var a=o.index(t(this));if(i.preventDefault(),t(this).attr("href")&&t(this).attr("href").split("#")[1]){var s=t(window).scrollTop();window.location.hash=t(this).attr("href").split("#")[1],t("body, html").scrollTop(s)}n.each(function(){t(this).find(c.tabSelector).eq(a).addClass("tab-active").siblings(c.tabSelector).removeClass("tab-active");

}),"function"==typeof c.onShow?c.onShow(l.eq(a),a):l.eq(a).removeClass("hide").show(),"function"==typeof c.onHide?c.onHide(l.eq(a).siblings(c.contentSelector),a):l.eq(a).siblings(c.contentSelector).addClass("hide").hide(),c.onLoad(e,a,c)})}var n,o,r,l,d,c;if(d={isSync:!1,events:"click",tabSelector:"li",containerSelector:".tab-container",contentSelector:".tab-content",onShow:null,onHide:null,onLoad:t.noop},c=t.extend({},d,a),c.isSync===!1){if(0===i.length)return i;if(i.length>1)return i.each(function(){e(t(this),a)}),i}n=t(i),r=n.first().attr("data-tab-target")?t("#"+n.first().attr("data-tab-target")):n.first().siblings(c.containerSelector),l=r.children(c.contentSelector),n.each(function(){s(t(this))}),c.onLoad(n,c)}t.fn.tabSwitch=function(t){return e(this,t),this}}(jQuery)},function(t,e){!function(t){function e(e){function i(){return 0>=_?!1:(x&&clearInterval(x),void(x=setTimeout(function(){var t=S===_-1?0:S+1;a(t),i()},h.pause)))}function a(t){return S===t?!1:(b.css({marginLeft:-f*m*t,transition:"margin-left "+h.speed/1e3+"s "+h.easing}),h.controls&&(0===t?c.addClass("control-disabled"):c.removeClass("control-disabled"),t===_-1?u.addClass("control-disabled"):u.removeClass("control-disabled")),h.pager&&g.find("li").eq(t).addClass("pager-active").siblings().removeClass("pager-active"),void(S=t))}function s(){for(var e='<ul class="xm-pagers">',i=0,s=_;s>i;i+=1)e+='<li class="pager'+(0===i?" pager-active":"")+'"><span class="dot">'+(i+1)+"</span></li>";e+="</ul>",g.html(e),g.find("li").off(".carousel").on("click.carousel",function(){t(this).addClass("pager-active").siblings().removeClass("pager-active"),a(g.find("li").index(t(this)))})}function n(){m=h.itemPerSlide||Math.ceil(r.width()/f),_=Math.ceil(l.length/m),1>=_||(a(0),h.pager&&s(),h.auto&&(i(),h.controls&&d.find(".control").off(".carousel").on({"mouseenter.carousel":function(){x&&clearTimeout(x)},"mouseleave.carousel":function(){i()}}),h.pager&&g.find(".pager").off(".carousel").on({"mouseenter.carousel":function(){x&&clearTimeout(x)},"mouseleave.carousel":function(){i()}})))}var o,r,l,d,c,u,g,p,h,m,f,v,_,b=t(this),x=0,S=-1;return p={itemSelector:"> li",itemWidth:null,itemHeight:null,itemPerSlide:null,containerSelector:null,controlsSelector:null,pagersSelector:null,speed:500,easing:"ease",auto:!1,pause:5e3,controls:!0,controlsClass:"xm-controls-line-small",pager:!1,onLoad:t.noop},h=t.extend({},p,e),l=b.find(h.itemSelector),h.itemPerSlide&&l.length<=h.itemPerSlide?this:(f=h.itemWidth||l.outerWidth(!0),v=h.itemHeight||l.outerHeight(),o=h.containerSelector?b.closest(h.containerSelector):b.parent(),o.addClass("xm-carousel-container"),r=b.wrap('<div class="xm-carousel-wrapper"></div>').closest(".xm-carousel-wrapper").css({height:v,overflow:"hidden"}),b.css("width",f*l.length),h.controls&&(d=t('<div class="xm-controls '+h.controlsClass+' xm-carousel-controls"><a class="control control-prev iconfont" href="javascript: void(0);">&#xe628;</a><a class="control control-next iconfont" href="javascript: void(0);">&#xe623;</a></div>'),h.controlsSelector?o.find(h.controlsSelector).append(d):d.insertAfter(r),c=d.find(".control-prev"),u=d.find(".control-next"),c.on("click",function(e){e.preventDefault(),t(this).hasClass("control-disabled")||a(S-1)}),u.on("click",function(e){e.preventDefault(),t(this).hasClass("control-disabled")||a(S+1)})),h.pager&&(g=t('<div class="xm-pagers-wrapper"></div>'),h.pagersSelector?o.find(h.pagersSelector).append(g):g.insertAfter(r)),n(),h.onLoad(b),void t(window).on("resize",n))}t.fn.carousel=function(t){return this.each(function(){e.call(this,t)}),this}}(jQuery)},function(t,e){!function(t){function e(e){function i(){for(var e=-1,i=t(document).scrollTop(),a=0,s=d.length;s>a&&i+o.viewport.height()>d[a];a+=1)e+=1;return e}function a(){var e=i();l!==e&&(l=e,r.filter(function(e){return l>=e&&!t(this).hasClass(o.visibleClass)}).addClass(o.visibleClass).trigger("visible.visibleWatcher"),o.onVisible(r.eq(l),l))}function s(){r.each(function(){var e=t(this).attr("data-offset")?Number(t(this).attr("data-offset")):o.offset,i=e%1===0?e:e*o.viewport.height();d.push(t(this).offset().top+i)}),a(),o.onLoad()}var n,o,r=t(this),l=-1,d=[];n={viewport:t(window),visibleClass:"is-visible",offset:300,onLoad:t.noop,onVisible:t.noop},o=t.extend({},n,e),s(),o.viewport.on({"scroll.visibleWatcher":a,"resize.visibleWatcher":s})}t.fn.visibleWatcher=function(t){return e.call(this,t),this}}(jQuery)},function(t,e,i){i(5),i(8),function(t){"use strict";function e(e){var s,o=l[n.type],r=t.cookie("userId")||"",d=t.cookie("mstuid");switch(n.type){case 2:var c="?u="+d+"&i="+r+"&a="+n.cid;s=n.apiHost[2]+c,"Home"===n.page&&(s+="&c=AA");break;case 4:s=n.apiHost[n.type]+"?mstuid="+d+"&mid="+r;break;default:s=n.apiHost[n.type]+"?a="+n.cid+"&cid="+n.gid}t.ajax({dataType:"JSONP",url:s,jsonpCallback:o,cache:!0,params:n,success:function(s){if(s.type=this.params.type,s.title=this.params.title,s.global=MI.GLOBAL_CONFIG,s.iHost=this.params.iHost,s.isBuy=this.params.isBuy,s.useCarousel=this.params.useCarousel,s.r.length<this.params.showMin)return!1;var n=t(e),o=i(9);n.addClass("container").html(o(s));var r=n.find("ul[data-carousel-list=true]").eq(0);a(n,r,this.params),null!==this.params.callback&&"function"==typeof this.params.callback&&this.params.callback()}})}function a(e,i,a){3!==a.type&&a.useCarousel&&i.carousel({containerSelector:e,controls:a.carouselControl,pager:a.carouselPage,itemHeight:320}),a.isBuy&&(t(".J_xm-recommend-list").hover(function(){t(this).find(".J_xm-recommend-btn").show()},function(){t(this).find(".J_xm-recommend-btn").hide()}),t(".J_xm-recommend-btn").off(".addcart").on("click.addcart",function(){function e(){s.removeClass("xm-recommend-notice-active"),setTimeout(function(){i.removeClass("disabled"),s.empty()},500)}var i=t(this),s=i.parent().siblings(".xm-recommend-notice");return i.hasClass("disabled")?!1:(MI.addShopCart(i.attr("data-stat-gid"),function(t){1===t.code?"Cart"!==a.page?(s.addClass("xm-recommend-notice-active").empty().append('<a class="btn btn-block btn-green btn-notice" href="javascript: void(0);">成功加入购物车</a>'),s.find(".btn-notice").one("click",e),setTimeout(function(){e()},1e3)):location.href=MI.GLOBAL_CONFIG.staticSite+"/cart/":alert(t.msg)}),!1)}));var n=r.page[a.page],o=r.api[a.type];s(e,n,o),t.isFunction(t("body").linkSign)&&e.linkSign({live:!0});var l=e.attr("id"),d="re-"+n+"."+o;t.force_appear(),e.appear(),e.one("appear",function(){"undefined"!=typeof _msq&&_msq.push(["trackPanelShow",l,d])})}function s(e,i,a){var s=e.find("a");t.each(s,function(e,s){var n,o=t(s).attr("data-stat-index"),r=d(t(s).attr("data-stat-text")),l=t(s).attr("data-stat-method"),c=t(s).attr("data-stat-addcart");n=c?"stat_"+i+c+"."+a+"_"+o+"_"+l:"stat_"+i+"."+a+"_"+o+"_"+l,t(s).attr({"data-stat-pid":n,"data-stat-aid":r})})}var n,o={cid:2,type:1,gid:"1152300005",title:"",showMin:5,apiHost:["//rec.www.mi.com/alsoview/get","//rec.www.mi.com/alsobuy/get","//rec.www.mi.com/guesslike/get","//rec.www.mi.com/cartbuy/get","//rec.www.mi.com/viewlist/get"],page:"Cart",iHost:"//i1.mifile.cn/a1/",isBuy:!1,useCarousel:!0,carouselControl:!1,carouselPage:!0,callback:null},r={page:{Home:"首页",ItemTail:"单品页底部",ComAll:"全部评论页",ComSuc:"评论成功页",AskAll:"全部提问页",AskDetail:"提问详情页",List:"列表页",Cart:"购物车",CartSuc:"加购成功",Saleoff:"下架页",Search:"搜索页",ErrorTip:"报错页"},api:["看了还看","买了还买","猜你喜欢","购物车推荐","您还看了"]},l=["recommend_alsoview","recommend_alsobuy","recommend_guesslike","recommend_cart","recommend_history"],d=function(t){try{return t.replace(/\s/g,"")}catch(e){return t}};t.fn.miRecommend=function(i){n=t.extend(o,i),e(this)}}(jQuery)},function(t,e){!function(t){function e(){n=!1;for(var e=0,s=a.length;s>e;e++){var o=t(a[e]).filter(function(){return t(this).is(":appeared")});if(o.trigger("appear",[o]),i){var r=i.not(o);r.trigger("disappear",[r])}i=o}}var i,a=[],s=!1,n=!1,o={interval:250,force_process:!1},r=t(window);t.expr[":"].appeared=function(e){var i=t(e);if(!i.is(":visible"))return!1;var a=r.scrollLeft(),s=r.scrollTop(),n=i.offset(),o=n.left,l=n.top;return l+i.height()>=s&&l-(i.data("appear-top-offset")||0)<=s+r.height()&&o+i.width()>=a&&o-(i.data("appear-left-offset")||0)<=a+r.width()?!0:!1},t.fn.extend({appear:function(i){var r=t.extend({},o,i||{}),l=this.selector||this;if(!s){var d=function(){n||(n=!0,setTimeout(e,r.interval))};t(window).scroll(d).resize(d),s=!0}return r.force_process&&setTimeout(e,r.interval),a.push(l),t(l)}}),t.extend({force_appear:function(){return s?(e(),!0):!1}})}(jQuery)},function(t,e){t.exports=function(t){var e="";t.title&&(e+='<h2 class="xm-recommend-title"><span>'+t.title+"</span></h2>"),e+='<div class="xm-recommend"><ul class="',e+=3!==t.type&&t.useCarousel?"xm-carousel-col-5-list xm-carousel-list clearfix":"row",e+='" data-carousel-list="true">';var i=t.r;if(i)for(var a,s=-1,n=i.length-1;n>s;)a=i[s+=1],e+=' <li class="J_xm-recommend-list',3!==t.type&&t.useCarousel||(e+=" span4"),e+='"> ',a.ext&&a.ext.img&&a.ext.url?e+=' <a target="_blank" href="'+a.ext.url+'" data-stat-gid="'+a.g+'" data-stat-method="'+t.v+"_"+a.a+'" data-stat-index='+s+' data-stat-text="'+a.n+'"> <img src="'+a.ext.img+'" width="100%" height="300px" alt="'+a.n+'"> </a> ':(e+=' <dl> <dt> <a href="'+t.global.itemSite+"/"+a.c+'.html" data-stat-method="'+t.v+"_"+a.a+'" data-stat-index='+s+' data-stat-text="'+a.n+'" target="_blank"> <img src="'+t.iHost+a.i+'?width=140&height=140" srcset="'+t.iHost+a.i+'?width=280&height=280 2x" alt="'+a.n+'" /> </a> </dt> <dd class="xm-recommend-name"> <a href="'+t.global.itemSite+"/"+a.c+'.html" data-stat-method="'+t.v+"_"+a.a+'" data-stat-index='+s+' data-stat-text="'+a.n+'" target="_blank"> '+a.n+' </a> </dd> <dd class="xm-recommend-price">'+a.p+'元</dd> <dd class="xm-recommend-tips"> ',a.l&&4!==t.type&&(e+=" ",parseInt(a.l)>0&&(e+=" "+a.l+"人好评 "),e+=" "),e+=" ",t.isBuy===!0&&(e+=' <a href="'+t.global.cartSite+"/cart/add/"+a.g+'-0-1" data-stat-gid="'+a.g+'" data-stat-method="'+t.v+"_"+a.a+'" data-stat-index='+s+' data-stat-text="'+a.n+'" data-stat-addcart="加购" class="btn btn-small btn-line-primary J_xm-recommend-btn">加入购物车</a> '),e+=' </dd> <dd class="xm-recommend-notice"></dd> </dl> '),e+=" </li>";return e+="</ul></div>"}},function(t,e){jQuery(function(t){var e=document.all&&!window.XMLHttpRequest,i=t("body");e&&i.addClass("ie6")})},function(t,e){t.exports=function(t){var e=$(t),i=e.find("> li");i.each(function(){var t,e=$(this).find(".children-list").find("> li");$(this).find(".children").addClass("children-col-"+Math.ceil(e.length/6)),e.length>6&&(t=$(document.createDocumentFragment()),e.each(function(e){e%6===0&&t.append($('<ul class="children-list children-list-col children-list-col-'+Math.ceil((e+1)/6)+'"></ul>')),$(this).appendTo(t.find(".children-list-col-"+Math.ceil((e+1)/6)))}),$(this).find(".children").html(t))}),e.miMenuAim({activate:function(t){$(t).addClass("category-item-active").find("img").each(function(){$(this).attr("src",$(this).attr("data-src"))})},deactivate:function(t){$(t).removeClass("category-item-active")},exitMenu:function(){return!0}})}},function(t,e){t.exports=function(t){var e="",i=t;if(i)for(var a,s=-1,n=i.length-1;n>s;)a=i[s+=1],e+=' <li class="brick-item brick-item-l"> <a href="'+a.url+'" class="exposure" data-stat-aid="AA'+a.adv_id+'" data-stat-pid="2_'+a.area_id+"_"+(s+1)+"_"+a.space_id+'" data-log_code="'+a.log_code+'" target="_blank"><img src="'+a.image+'" width="160" height="160" alt="" /></a> </li>';return e}},function(t,e){t.exports=function(t){var e="",i=t;if(i)for(var a,s=-1,n=i.length-1;n>s;)a=i[s+=1],e+=' <li class="brick-item brick-item-m"> <a href="'+a.url+'" class="exposure" data-stat-aid="AA'+a.adv_id+'" data-stat-pid="2_'+a.area_id+"_"+(s+1)+"_"+a.space_id+'" data-log_code="'+a.log_code+'" target="_blank"><img src="'+a.image+'" width="160" height="160" alt="" /></a> </li>';return e}},function(t,e){t.exports=function(t){var e="",i=t;if(i)for(var a,s=-1,n=i.length-1;n>s;)if(a=i[s+=1],e+=" ",a.goods_id){if(e+=' <li class="brick-item brick-item-m" data-gid="'+("0"!==a.goods_id?a.goods_id:a.commodity_id)+'"> <div class="figure figure-img"> <a class="exposure" href="'+a.url+'" data-stat-aid="AA'+a.adv_id+'" data-stat-pid="2_'+a.area_id+"_"+a.sort+"_"+a.space_id+'" target="_blank" data-log_code="'+a.log_code+'"><img src="'+a.image+'" width="150" height="150" alt="'+a.title+'" /></a> </div> <h3 class="title"> <a href="'+a.url+'" data-stat-aid="AA'+a.adv_id+'" data-stat-pid="2_'+a.area_id+"_"+a.sort+"_"+a.space_id+'" data-log_code="'+a.log_code+'" target="_blank">'+a.title+"</a></h3> ","undefined"!=typeof a.sectionName&&"smart"===a.sectionName&&(e+=' <p class="desc">'+a.desc+"</p> "),e+=' <p class="price"> <span class="num">'+a.sale_price+"</span>元 ",Number(a.origin_price)>Number(a.sale_price)&&(e+=' <del><span class="num">'+a.origin_price+"</span>元</del> "),e+=' </p> <p class="rank"></p> ',"1"===a.is_discount&&Number(a.origin_price)>Number(a.sale_price)){e+=' <div class="flag flag-saleoff"> ';var o=Number(a.sale_price)/Number(a.origin_price)*10;e+=" ",9>o?(e+=" ",o=Math.ceil(o),e+=" "):(e+=" ",o=Math.ceil(10*o)/10,e+=" "),e+=" 享"+o+"折 </div> "}else parseInt(a.free_ship)>0?(e+=' <div class="flag flag-postfree">',e+=1===parseInt(a.free_ship)?"免邮费":""+a.free_ship+"件包邮",e+="</div> "):"1"===a.buy_give?e+=' <div class="flag flag-gift">有赠品</div> ':"1"===a.is_new&&(e+=' <div class="flag flag-new">新品</div> ');e+=" ",a.comment&&a.comment.content&&(e+=' <div class="review-wrapper"> <a href="'+a.url+'" data-stat-aid="AA'+a.adv_id+'" data-stat-pid="2_'+a.area_id+"_"+a.sort+"_"+a.space_id+'" data-log_code="'+a.log_code+'" target="_blank"> <span class="review">'+a.comment.content+'</span> <span class="author"> 来自于 '+a.comment.user_name+' 的评价 <span class="date" data-date="'+a.comment.add_time+'"></span> </span> </a> </div> '),e+=" </li> "}return e}},function(t,e){t.exports=function(t){var e="",i=t;if(i)for(var a,s=-1,n=i.length-1;n>s;)if(a=i[s+=1],e+=" ",a.goods_id){if(e+=' <li class="brick-item brick-item-m brick-item-m-2" data-gid="'+("0"!==a.goods_id?a.goods_id:a.commodity_id)+'"> <div class="figure figure-img"> <a class="exposure" href="'+a.url+'" data-stat-aid="AA'+a.adv_id+'" data-stat-pid="2_'+a.area_id+"_"+a.sort+"_"+a.space_id+'" data-log_code="'+a.log_code+'" target="_blank"> <img src="'+a.image+'" width="160" height="160" alt="'+a.title+'" /> </a> </div> <h3 class="title"><a href="'+a.url+'" data-stat-aid="AA'+a.adv_id+'" data-stat-pid="2_'+a.area_id+"_"+a.sort+"_"+a.space_id+'" data-log_code="'+a.log_code+'" target="_blank">'+a.title+'</a></h3> <p class="desc">'+a.desc+'</p> <p class="price"> <span class="num">'+a.sale_price+"</span>元 ",Number(a.origin_price)>Number(a.sale_price)&&(e+=' <del><span class="num">'+a.origin_price+"</span>元</del> "),e+=" </p> ","1"===a.is_discount&&Number(a.origin_price)>Number(a.sale_price)){e+=' <div class="flag flag-saleoff"> ';var o=Number(a.sale_price)/Number(a.origin_price)*10;e+=" ",9>o?(e+=" ",o=Math.ceil(o),e+=" "):(e+=" ",o=Math.ceil(10*o)/10,e+=" "),e+=" 享"+o+"折 </div> "}else parseInt(a.free_ship)>0?(e+=' <div class="flag flag-postfree">',e+=1===parseInt(a.free_ship)?"免邮费":""+a.free_ship+"件包邮",e+="</div> "):"1"===a.buy_give?e+=' <div class="flag flag-gift">有赠品</div> ':"1"===a.is_new&&(e+=' <div class="flag flag-new">新品</div> ');e+=" </li> "}return e}},function(t,e){t.exports=function(t){var e="",i=t.a;if(i)for(var a,s=-1,n=i.length-1;n>s;)a=i[s+=1],e+=' <li class="brick-item brick-item-m" data-gid="'+a.g+'"> <div class="figure figure-img"> <a href="'+t.g.itemSite+"/"+a.c+'.html" data-stat-method="'+t.v+"_"+a.a+'" data-stat-index="'+s+'" data-stat-text="'+a.n+'" target="_blank"><img src="'+t.i+a.i+'?width=150&height=150" width="150" height="150" alt="'+a.n+'" /></a> </div> <h3 class="title"> <a href="'+t.g.itemSite+"/"+a.c+'.html" data-stat-method="'+t.v+"_"+a.a+'" data-stat-index="'+s+'" data-stat-text="'+a.n+'" target="_blank"> ',e+=a.adapt[0]&&-1==a.n.indexOf(a.adapt[0])?" "+a.adapt[0]+" "+a.n+" ":" "+a.n+" ",e+=' </a></h3> <p class="price"> <span class="num">'+a.p+"</span>元 ",Number(a.pb)>Number(a.p)&&(e+=' <del><span class="num">'+a.pb+"</span>元</del> "),e+=" </p> ","0"!==a.l&&(e+=' <p class="rank">'+a.l+"人评价</p> "),e+=" ",a.tag[2]===!0?e+=' <div class="flag flag-new">新品</div> ':parseInt(a.tag[3])>0?(e+=' <div class="flag flag-postfree">',e+=1===parseInt(a.tag[3])?"免邮费":""+a.tag[3]+"件包邮",e+="</div> "):a.tag[4]===!0?e+=' <div class="flag flag-gift">有赠品</div> ':""!==a.tag[1]&&(e+=' <div class="flag flag-saleoff"> 享'+a.tag[1]+" </div> "),e+=" ",a.ct&&a.cuname&&(e+=' <div class="review-wrapper"> <a href="'+t.g.itemSite+"/"+a.c+'.html" data-stat-method="'+t.v+"_"+a.a+'" data-stat-index="'+s+'" data-stat-text="'+a.n+'" target="_blank"> <span class="review">'+a.ct+'</span> <span class="author"> 来自于 '+a.cuname+' 的评价 <span class="date"></span> </span> </a> </div> '),e+=" </li>";return e+=' <li class="brick-item brick-item-s" data-gid="'+t.b.g+'"> <div class="figure figure-img"> <a href="'+t.g.itemSite+"/"+t.b.c+'.html" data-stat-method="'+t.v+"_"+t.b.a+'" data-stat-index="7" data-stat-text="'+t.b.n+'" target="_blank"> <img src="'+t.i+t.b.i+'?width=80&height=80" width="80" height="80" alt="'+t.b.n+'" /> </a> </div> <h3 class="title"><a href="'+t.g.itemSite+"/"+t.b.c+'.html" data-stat-method="'+t.v+"_"+t.b.a+'" data-stat-index="7" data-stat-text="'+t.b.n+'" target="_blank">'+t.b.n+'</a></h3> <p class="price"><span class="num">'+t.b.p+'</span>元</p> </li> <li class="brick-item brick-item-s"> <div class="figure figure-more"><a href="'+t.c+'" target="_blank"><i class="iconfont">&#xe615;</i></a></div> <a class="more" href="'+t.c+'" target="_blank">浏览更多<small>热门</small></a> </li>'}},function(t,e){t.exports=function(t){var e="",i=t;if(i)for(var a,s=-1,n=i.length-1;n>s;)a=i[s+=1],e+=" ",a.goods_id&&(e+=' <li class="brick-item brick-item-s" data-gid="'+("0"!==a.goods_id?a.goods_id:a.commodity_id)+'"> <div class="figure figure-img"> <a href="'+a.url+'" class="exposure" data-stat-aid="AA'+a.adv_id+'" data-stat-pid="2_'+a.area_id+"_"+a.sort+"_"+a.space_id+'" data-log_code="'+a.log_code+'" target="_blank"> <img src="'+a.image+'" width="80" height="80" alt="'+a.title+'" /> </a> </div> <h3 class="title"><a href="'+a.url+'" class="exposure" data-stat-aid="AA'+a.adv_id+'" data-stat-pid="2_'+a.area_id+"_"+a.sort+"_"+a.space_id+'" data-log_code="'+a.log_code+'" target="_blank">'+a.title+'</a></h3> <p class="price"><span class="num">'+a.sale_price+"</span>元</p> </li> ");return e}},function(t,e){t.exports=function(t){var e="",i=t;if(i)for(var a,s=-1,n=i.length-1;n>s;)a=i[s+=1],e+=" ",a.goods_id&&(e+=' <li class="review-item',0===s&&(e+=" review-item-first"),e+='" data-gid="'+a.goods_id+'"> <div class="figure figure-img"> <a class="exposure" href="'+a.url+'" data-stat-aid="AA'+a.adv_id+'" data-stat-pid="2_'+a.area_id+"_"+(s+1)+"_"+a.space_id+'" data-log_code="'+a.log_code+'" target="_blank"> <img src="'+a.image+'" width="296" height="220" alt="'+a.title+'" /> </a> </div> ',a.comment&&a.comment.content&&(e+=' <p class="review"><a href="'+(MI.GLOBAL_CONFIG.orderSite+"/comment/commentDetail/comment_id/"+a.comment.comment_id)+'" data-stat-aid="AA'+a.adv_id+'" data-stat-pid="2_'+a.area_id+"_"+(s+1)+"_"+a.space_id+'" data-log_code="'+a.log_code+'" target="_blank">'+a.comment.content+'</a></p> <p class="author"> 来自于 '+a.comment.user_name+' 的评价 <span class="date" data-date="'+a.comment.add_time+'"></span> </p> <div class="info"> <h3 class="title"><a href="'+a.url+'" data-stat-aid="AA'+a.adv_id+'" data-stat-pid="2_'+a.area_id+"_"+(s+1)+"_"+a.space_id+'" data-log_code="'+a.log_code+'" target="_blank">'+a.title+'</a></h3> <span class="sep">|</span> <p class="price"><span class="num">'+a.sale_price+"</span>元</p> </div> "),e+=" </li> ");return e}},function(t,e){t.exports=function(t){var e="",i=t;if(i)for(var a,s=-1,n=i.length-1;n>s;)a=i[s+=1],e+='<li> <h4 class="name"> <a href="'+a.url+'" class="exposure" data-stat-aid="AA'+a.adv_id+'" data-stat-pid="2_'+a.area_id+"_"+(s+1)+"_"+a.space_id+'" data-log_code="'+a.log_code+'" tabindex="-1" target="_blank">'+a.title+'</a></h4> <p class="desc"><a href="'+a.url+'" data-stat-aid="AA'+a.adv_id+'" data-stat-pid="2_'+a.area_id+"_"+(s+1)+"_"+a.space_id+'" data-log_code="'+a.log_code+'" tabindex="-1" target="_blank">'+a.desc+'</a></p> <p class="price"><a href="'+a.url+'" data-stat-aid="AA'+a.adv_id+'" data-stat-pid="2_'+a.area_id+"_"+(s+1)+"_"+a.space_id+'" data-log_code="'+a.log_code+'" tabindex="-1" target="_blank">'+a.sale_price+'</a></p> <div class="figure figure-img"> <a href="'+a.url+'" data-stat-aid="AA'+a.adv_id+'" data-stat-pid="2_'+a.area_id+"_"+(s+1)+"_"+a.space_id+'" data-log_code="'+a.log_code+'" tabindex="-1" target="_blank"> <img src="'+a.image+'" width="160" height="140" alt="'+a.title+'" /> </a> </div></li>';return e}},function(t,e){t.exports=function(t){var e='<li class="more"> <p class="desc">'+t.desc+'</p> <a class="btn btn-small btn-line-'+t.style+'" href="'+t.url+'" tabindex="-1" target="_blank">前往'+t.text+'</a> <img class="thumb" src="'+t.image+'" width="160" height="140" alt="'+t.text+'" /></li>';return e}},function(t,e){t.exports=function(t){var e="",i=t;if(i)for(var a,s=-1,n=i.length-1;n>s;)a=i[s+=1],e+='<li class="video-item',0===s&&(e+=" video-item-first"),e+='"> <div class="figure figure-img"> <a class="J_videoTrigger exposure" href="javascript: void(0);" data-stat-aid="AA'+a.adv_id+'" data-stat-pid="2_'+a.area_id+"_"+(s+1)+"_"+a.space_id+'" data-log_code="'+a.log_code+'" data-video="'+(a.mivideo.hd_url||a.mivideo.sd_url)+'" data-video-poster="'+a.mivideo.image_url+'" data-video-title="'+a.title+'" title="点击播放视频" > <img src="'+a.image+'" width="296" height="180" alt="'+a.title+'" /> <span class="play"><i class="iconfont">&#xe601;</i></span> </a> </div> <h3 class="title"> <a class="J_videoTrigger" href="javascript: void(0);" data-stat-aid="AA'+a.adv_id+'" data-stat-pid="2_'+a.area_id+"_"+(s+1)+"_"+a.space_id+'" data-log_code="'+a.log_code+'" data-video="'+(a.mivideo.hd_url||a.mivideo.sd_url)+'" data-video-poster="'+a.mivideo.image_url+'" data-video-title="'+a.title+'" title="点击播放视频" >'+a.title+'</a> </h3> <p class="desc">'+a.desc+"</p></li>";return e}},function(t,e){t.exports=function(t){var e='<div id="J_logoDoodle" class="doodle air-doodle clearfix"> <a class="link-block" href="'+t.adData.url+'" data-stat-aid="'+t.adData.channel_alias+t.adData.adv_id+'" data-stat-pid="'+t.adData.channel_group_id+"_"+t.adData.area_id+"_1_"+t.adData.space_id+'" target="_blank"> <span class="doodle-img" style="background: url('+t.adData.image+') no-repeat 50% 50%"></span> <span class="doodle-state">'+t.adData.desc+'</span> <span class="doodle-info"> <span class="city">'+t.ipAddr[1]+'市</span> <span class="pm">PM2.5 : '+t.aqi.pm25+"</span> </span> </a></div>";return e}}]);